<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.9. Autres configurations : synchronisation, logs, partages…</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fr-FR-1.0-1" /><meta
        name="keywords"
        content="Configuration, Francisation, locales, Locales, Réseau, Résolution de noms, Utilisateurs, Groupes, Création de comptes, Interpréteur de commandes, Shell, Impression, Chargeur de démarrage, Compilation de noyau" /><link
        rel="home"
        href="index.html"
        title="Le cahier de l'administrateur Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Chapitre 8. Configuration de base : réseau, comptes, impression..." /><link
        rel="prev"
        href="sect.config-bootloader.html"
        title="8.8. Configuration du chargeur d'amorçage" /><link
        rel="next"
        href="sect.kernel-compilation.html"
        title="8.10. Compilation d'un noyau" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/fr-FR/sect.config-misc.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-bootloader.html"><strong>Précédent</strong></a></li><li
          class="home">Le cahier de l'administrateur Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-compilation.html"><strong>Suivant</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.config-misc"></a>8.9. Autres configurations : synchronisation, logs, partages…</h2></div></div></div><div
          class="para">
			Cette section regroupe de nombreux éléments qu'il est bon de connaître pour maîtriser tous les aspects de la configuration du système GNU/Linux. Ils sont cependant traités brièvement et renvoient souvent à la documentation de référence.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.timezone"></a>8.9.1. Fuseau horaire</h3></div></div></div><a
            id="idm140443395072496"
            class="indexterm"></a><div
            class="sidebar"><a
              id="sidebar.symbolic-link"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>B.A.-BA</em></span> Le lien symbolique</strong></p></div></div></div><a
              id="idm140443395070048"
              class="indexterm"></a><a
              id="idm140443395068608"
              class="indexterm"></a><a
              id="idm140443395067648"
              class="indexterm"></a><div
              class="para">
				Un lien symbolique est un pointeur vers un autre fichier. Quand on y accède, c'est le fichier ainsi pointé qui est ouvert. Sa suppression n'entraîne pas la suppression du fichier pointé. De même, il ne dispose pas de droits propres, ce sont ceux de la cible qui comptent. Enfin, il peut pointer sur n'importe quel type de fichier : répertoires, fichiers spéciaux (<span
                class="foreignphrase"><em
                  class="foreignphrase">sockets</em></span>, tubes, périphériques, etc.), autres liens symboliques...
			</div><div
              class="para">
				La commande <code
                class="command">ln -s <em
                  class="replaceable">cible</em> <em
                  class="replaceable">nom-lien</em></code> crée un lien symbolique <em
                class="replaceable">nom-lien</em> pointant sur <em
                class="replaceable">cible</em>.
			</div><div
              class="para">
				Si la cible n'existe pas, alors le lien est « cassé » et y accéder renverra une erreur indiquant que le fichier demandé n'existe pas. Si le lien pointe sur un autre lien, on obtient une « chaîne » de liens qui se transforme en « cycle » si l'un des liens cibles pointe sur l'un de ses prédécesseurs. Dans ce cas, accéder à l'un des liens du cycle renverra une erreur spécifique (« Trop de niveaux de liens symboliques » — c'est l'aveu d'échec du noyau après avoir parcouru le cycle un grand nombre de fois).
			</div></div><div
            class="para">
				The timezone, configured during initial installation, is a configuration item for the <span
              class="pkg pkg">tzdata</span> package. To modify it, use the <code
              class="command">dpkg-reconfigure tzdata</code> command, which allows you to choose the timezone to be used in an interactive manner. Its configuration is stored in the <code
              class="filename">/etc/timezone</code> file. Additionally, the corresponding file in the <code
              class="filename">/usr/share/zoneinfo</code> directory is copied into <code
              class="filename">/etc/localtime</code>; this file contains the rules governing the dates where daylight saving time is active, for countries that use it.
			</div><a
            id="idm140443395057920"
            class="indexterm"></a><a
            id="idm140443395056800"
            class="indexterm"></a><a
            id="idm140443395055680"
            class="indexterm"></a><a
            id="idm140443395054560"
            class="indexterm"></a><a
            id="idm140443395053440"
            class="indexterm"></a><a
            id="idm140443395052480"
            class="indexterm"></a><div
            class="para">
				Pour changer temporairement de fuseau horaire, il est possible de mettre en place un fuseau horaire ayant la priorité sur les réglages du système avec la variable d'environnement <code
              class="varname">TZ</code>.
			</div><a
            id="idm140443395050384"
            class="indexterm"></a><a
            id="screen.tz"></a><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>date</code></strong>
<code
              class="computeroutput">Thu Feb 19 11:25:18 CET 2015</code>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>TZ="Pacific/Honolulu" date</code></strong>
<code
              class="computeroutput">Thu Feb 19 00:25:21 HST 2015</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTE</em></span> Horloge système, horloge matérielle</strong></p></div></div></div><div
              class="para">
				There are two time sources in a computer. A computer's motherboard has a hardware clock, called the “CMOS clock”. This clock is not very precise, and provides rather slow access times. The operating system kernel has its own, the software clock, which it keeps up to date with its own means (possibly with the help of time servers, see <a
                class="xref"
                href="sect.config-misc.html#sect.time-synchronization">Section 8.9.2, « Synchronisation horaire »</a>). This system clock is generally more accurate, especially since it doesn't need access to hardware variables. However, since it only exists in live memory, it is zeroed out every time the machine is booted, contrary to the CMOS clock, which has a battery and therefore “survives” rebooting or halting of the machine. The system clock is, thus, set from the CMOS clock during boot, and the CMOS clock is updated on shutdown (to take into account possible changes or corrections if it has been improperly adjusted).
			</div><div
              class="para">
				En pratique, il se pose un problème, car l'horloge CMOS n'est qu'un compteur et ne contient pas d'informations de fuseau horaire. Il y a donc un choix à faire sur son interprétation : soit le système considère qu'il s'agit de temps universel (UTC, anciennement GMT), soit qu'il s'agit d'heure locale. Ce choix pourrait n'être qu'un simple décalage, mais les choses se compliquent : par suite des considérations d'heure d'été, ce décalage n'est pas constant ; la conséquence est que le système n'a au démarrage aucun moyen de savoir si le décalage est correct, notamment aux alentours des périodes de changement d'heure. Comme il est toujours possible de reconstruire l'heure locale en fonction de l'heure universelle et du fuseau horaire, nous recommandons donc vivement d'adopter une horloge CMOS en temps universel.
			</div><div
              class="para">
				Hélas, les systèmes Windows (dans leur configuration par défaut) ignorent cette recommandation ; ils maintiennent l'horloge CMOS en heure locale et appliquent des décalages au démarrage de l'ordinateur en essayant de deviner lors de changements d'heure si le changement a déjà été appliqué précédemment ou non. Cela fonctionne relativement bien lorsque l'ordinateur ne fonctionne que sous un seul Windows, mais dès que l'ordinateur utilise plusieurs systèmes (que ce soit en <span
                class="foreignphrase"><em
                  class="foreignphrase">dual-boot</em></span> ou grâce à des machines virtuelles), une cacophonie s'ensuit, aucun n'ayant de moyen de savoir si l'heure locale est correcte. Si l'on doit absolument garder un Windows sur un ordinateur, on devra soit le configurer pour stocker l'heure en temps universel dans l'horloge matérielle (en réglant la valeur de la clé <code
                class="literal">HKLM\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation\\RealTimeIsUniversal</code> au DWORD « 1 » dans la base de registres), soit désactiver <code
                class="literal">UTC</code> dans le fichier <code
                class="filename">/etc/default/rcS</code> (et prendre soin de vérifier manuellement l'horloge au printemps et à l'automne).
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.time-synchronization"></a>8.9.2. Synchronisation horaire</h3></div></div></div><a
            id="idm140443395037120"
            class="indexterm"></a><a
            id="idm140443395036160"
            class="indexterm"></a><div
            class="para">
				La synchronisation horaire, qui peut paraître superflue sur un ordinateur, prend toute son importance dans le cadre d'un réseau. Les utilisateurs n'ayant pas le droit de modifier la date et l'heure, il est important que ces informations soient exactes pour ne pas les gêner. Par ailleurs, le fait d'avoir tous les ordinateurs synchronisés permet de mieux croiser les informations obtenues à partir de logs issus de machines différentes. Ainsi, en cas d'attaque, il est plus simple de reconstituer la séquence chronologique des actions des indélicats sur les différentes machines compromises. Des données collectées sur plusieurs machines à des fins de statistiques n'ont pas non plus grand sens si leurs horodatages sont divers.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>B.A.-BA</em></span> NTP</strong></p></div></div></div><a
              id="idm140443395032384"
              class="indexterm"></a><a
              id="idm140443395031424"
              class="indexterm"></a><div
              class="para">
				NTP (<span
                class="foreignphrase"><em
                  class="foreignphrase">Network Time Protocol</em></span>, ou protocole d'heure en réseau) permet à une machine de se synchroniser sur une autre en prenant en compte de manière relativement précise les délais induits par le transfert de l'information sur le réseau et les autres décalages possibles.
			</div><div
              class="para">
				Bien qu'il existe de nombreux serveurs NTP sur Internet, les plus connus peuvent être surchargés. C'est pourquoi il est recommandé d'employer le serveur NTP <span
                class="emphasis"><em>pool.ntp.org</em></span> — c'est en réalité une collection de machines qui ont accepté de jouer le rôle de serveur NTP public. On peut même se limiter à un sous-ensemble spécifique à un pays, avec par exemple <span
                class="emphasis"><em>fr.pool.ntp.org</em></span> pour la France.
			</div><div
              class="para">
				Si vous administrez un réseau important, il est toutefois recommandé de mettre en place votre propre serveur NTP, qui se synchronisera avec les serveurs publics. Dans ce cas, toutes les autres machines de votre réseau pourront utiliser le serveur NTP interne au lieu d'augmenter la charge sur les serveurs publics. Vous gagnerez également en homogénéité des horloges, puisque toutes les machines seront synchronisées sur la même source, très proche en termes de temps de transfert réseau.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.ntp-on-workstations"></a>8.9.2.1. Pour les stations de travail</h4></div></div></div><div
              class="para">
					Les stations de travail étant redémarrées régulièrement (ne serait-ce que par souci d'économie d'énergie), il suffit de les synchroniser par NTP au démarrage. Pour cela, il est possible d'y installer le paquet Debian <span
                class="pkg pkg">ntpdate</span>. On changera au besoin le serveur NTP employé en modifiant le fichier <code
                class="filename">/etc/default/ntpdate</code>.
				</div><a
              id="idm140443395022608"
              class="indexterm"></a><a
              id="idm140443395021488"
              class="indexterm"></a></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.ntp-on-servers"></a>8.9.2.2. Pour les serveurs</h4></div></div></div><div
              class="para">
					Les serveurs ne redémarrent que très rarement et il est très important que leur heure système soit juste. Pour conserver une heure correcte en permanence, on installera un serveur NTP local, service proposé par le paquet <span
                class="pkg pkg">ntp</span>. Dans sa configuration par défaut, le serveur se synchronisera sur <span
                class="emphasis"><em>pool.ntp.org</em></span> et fournira l'heure à qui la lui demandera sur le réseau local. On le configurera à travers le fichier <code
                class="filename">/etc/ntp.conf</code> ; l'élément le plus intéressant à changer est le serveur NTP de référence. Si le réseau compte beaucoup de serveurs, il peut être intéressant de n'avoir qu'un seul serveur qui se synchronise sur les serveurs publics, les autres se synchronisant sur lui.
				</div><a
              id="idm140443395016192"
              class="indexterm"></a><a
              id="idm140443395014768"
              class="indexterm"></a><a
              id="idm140443395013328"
              class="indexterm"></a><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>POUR ALLER PLUS LOIN</em></span> Module GPS et autres sources de temps</strong></p></div></div></div><a
                id="idm140443395010800"
                class="indexterm"></a><a
                id="idm140443395009840"
                class="indexterm"></a><div
                class="para">
					Si la synchronisation horaire est cruciale dans votre réseau, il est possible d'équiper un serveur d'un module GPS (qui demandera l'heure aux satellites GPS) ou DCF-77 (qui la captera sur une horloge atomique installée près de Francfort). Dans ces cas, la configuration du serveur NTP est un peu plus compliquée et la consultation de sa documentation un préalable absolument nécessaire.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.rotation-logs"></a>8.9.3. Rotation des fichiers de logs</h3></div></div></div><a
            id="idm140443395006400"
            class="indexterm"></a><a
            id="idm140443395004960"
            class="indexterm"></a><a
            id="idm140443395003520"
            class="indexterm"></a><a
            id="idm140443395002592"
            class="indexterm"></a><div
            class="para">
				Les fichiers de logs prenant rapidement du volume, il est nécessaire de les archiver. On emploie en général une archive « tournante » : le fichier de log est régulièrement archivé et seules ses <em
              class="replaceable">X</em> dernières archives sont conservées. <code
              class="command">logrotate</code>, le programme chargé de ces rotations, suit les directives données dans le fichier <code
              class="filename">/etc/logrotate.conf</code> et tous ceux du répertoire <code
              class="filename">/etc/logrotate.d/</code>. L'administrateur peut modifier ces fichiers s'il souhaite adapter la politique de rotation des logs définie par Debian. La page de manuel <span
              class="citerefentry"><span
                class="refentrytitle">logrotate</span>(1)</span> décrit toutes les options autorisées dans ces fichiers de configuration. Il peut être intéressant d'augmenter le nombre de fichiers conservés dans la rotation des logs, ou de déplacer les fichiers de logs dans un répertoire spécifique dédié à l'archivage au lieu de les supprimer. On peut encore les envoyer par courrier électronique pour les archiver ailleurs.
			</div><div
            class="para">
				Le programme <code
              class="command">logrotate</code> est exécuté quotidiennement par l'ordonnanceur <code
              class="command">cron</code> (décrit dans la <a
              class="xref"
              href="sect.task-scheduling-cron-atd.html">Section 9.7, « Planification de tâches : <code
                class="command">cron</code> et <code
                class="command">atd</code> »</a>).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.sharing-admin-rights"></a>8.9.4. Partage des droits d'administration</h3></div></div></div><a
            id="idm140443394993856"
            class="indexterm"></a><a
            id="idm140443394992416"
            class="indexterm"></a><a
            id="idm140443394991456"
            class="indexterm"></a><div
            class="para">
				Bien souvent, plusieurs administrateurs s'occupent du réseau. Partager le mot de passe de l'utilisateur root n'est pas très élégant et ouvre la porte à des abus du fait de l'anonymat de ce compte partagé. La solution à ce problème est le programme <code
              class="command">sudo</code>, qui permet à certains utilisateurs d'exécuter certaines commandes avec des droits particuliers. Dans son emploi le plus courant <code
              class="command">sudo</code> permet à un utilisateur de confiance d'exécuter n'importe quelle commande en tant que root. Pour cela, l'utilisateur doit simplement exécuter <code
              class="command">sudo <em
                class="replaceable">commande</em></code> et s'authentifier à l'aide de son mot de passe personnel.
			</div><div
            class="para">
				Quand il s'installe, le paquet <span
              class="pkg pkg">sudo</span> donne les droits complets de root à tous les utilisateurs membres du groupe Unix <code
              class="literal">sudo</code>. Pour déléguer d'autres droits, l'administrateur doit faire appel à la commande <code
              class="command">visudo</code>, qui permet de modifier le fichier de configuration <code
              class="filename">/etc/sudoers</code> (ici encore, cela invoquera l'éditeur de texte <code
              class="command">vi</code>, ou tout éditeur mentionné dans la variable d'environnement <code
              class="varname">EDITOR</code>). L'ajout d'une ligne <code
              class="literal"><em
                class="replaceable">utilisateur</em> ALL=(ALL) ALL</code> permettra à l'utilisateur concerné d'exécuter n'importe quelle commande en tant que root.
			</div><a
            id="idm140443394983136"
            class="indexterm"></a><a
            id="idm140443394982016"
            class="indexterm"></a><a
            id="idm140443394980896"
            class="indexterm"></a><div
            class="para">
				Des configurations plus sophistiquées permettront de n'autoriser que quelques commandes particulières à certains utilisateurs. Tous les détails de ces différentes possibilités sont donnés dans la page de manuel <span
              class="citerefentry"><span
                class="refentrytitle">sudoers</span>(5)</span>.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.fstab-mount-points"></a>8.9.5. Liste des points de montage</h3></div></div></div><a
            id="idm140443394976672"
            class="indexterm"></a><a
            id="idm140443394975712"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>B.A.-BA</em></span> Montage et démontage</strong></p></div></div></div><div
              class="para">
				Dans un système de type Unix comme Debian, les fichiers sont organisés dans une arborescence unique de répertoires. Le répertoire <code
                class="filename">/</code> est appelé la racine et tous les autres sont des sous-répertoires plus ou moins directs de cette racine. Le « montage » est l'action d'intégrer le contenu d'un périphérique (souvent un disque dur) à l'arborescence générale du système. Ainsi, si l'on utilise un disque séparé pour stocker les données personnelles des utilisateurs, ce disque sera « monté » dans le répertoire <code
                class="filename">/home/</code>. Le système de fichiers racine est toujours monté par le noyau. Lors de l'initialisation de l'ordinateur, d'autres périphériques y sont souvent intégrés à l'aide de la commande <code
                class="command">mount</code>.
			</div><a
              id="idm140443394971024"
              class="indexterm"></a><div
              class="para">
				Certains périphériques amovibles sont montés automatiquement lors de leur branchement, notamment dans les environnements de bureau GNOME et KDE. Les autres devront être montés manuellement par l'utilisateur. Il faudra également que celui-ci puisse les démonter (ou retirer de l'arborescence) ; c'est d'ailleurs un préalable nécessaire à l'éjection de certains d'entre eux, comme les CD-Rom. Les utilisateurs normaux ne sont normalement pas habilités à employer les commandes <code
                class="command">mount</code> et <code
                class="command">umount</code>. L'administrateur peut toutefois autoriser ces opérations (indépendamment pour chaque point de montage) en positionnant l'option <code
                class="literal">user</code> dans le fichier <code
                class="filename">/etc/fstab</code>.
			</div><div
              class="para">
				La commande <code
                class="command">mount</code> peut s'employer sans arguments (elle liste alors les systèmes de fichiers montés). Pour procéder à un montage ou à un démontage, des paramètres sont nécessaires. On se référera aux pages de manuel correspondantes, <span
                class="citerefentry"><span
                  class="refentrytitle">mount</span>(8)</span> et <span
                class="citerefentry"><span
                  class="refentrytitle">umount</span>(8)</span>. Dans les cas courants, la syntaxe est simple : par exemple, pour monter la partition <code
                class="filename">/dev/sdc1</code>, dont le système de fichiers est ext3, dans le répertoire <code
                class="filename">/mnt/tmp/</code>, on tapera simplement <code
                class="command">mount -t ext3 /dev/sdc1 /mnt/tmp/</code>.
			</div></div><div
            class="para">
				Le fichier <code
              class="filename">/etc/fstab</code> donne la liste de tous les montages possibles (effectués automatiquement au démarrage ou à exécuter manuellement pour les périphériques amovibles). Chaque point de montage y est détaillé sur une ligne par plusieurs champs séparés par des blancs, qui sont : <a
              id="idm140443394960752"
              class="indexterm"></a> <a
              id="idm140443394959952"
              class="indexterm"></a>
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						Périphérique à monter : il peut s'agir d'une partition locale (disque dur, CD-Rom) ou d'un système de fichiers distant (tel que NFS).
					</div><div
                  class="para">
						Ce champ est fréquemment remplacé par l'identifiant unique du système de fichiers (que l'on peut obtenir par <code
                    class="command">blkid <strong
                      class="userinput"><code>périphérique</code></strong></code>) préfixé de <code
                    class="literal">UUID=</code>. Cela permet notamment de ne pas être affecté par le changement possible du nom du périphérique en cas d'ajout ou de suppression de disques (ou de détection des disques dans un ordre différent).
					</div></li><li
                class="listitem"><div
                  class="para">
						Point de montage : c'est l'endroit de l'arborescence où ce système de fichiers sera rendu accessible.
					</div></li><li
                class="listitem"><div
                  class="para">
						Type : ce champ définit le système de fichiers employé sur le périphérique. <code
                    class="literal">ext4</code>, <code
                    class="literal">ext3</code>, <code
                    class="literal">vfat</code>, <code
                    class="literal">ntfs</code>, <code
                    class="literal">reiserfs</code>, <code
                    class="literal">xfs</code> en sont quelques exemples.
					</div><div
                  class="sidebar"><div
                    class="titlepage"><div><div><p
                          class="title"><strong><span
                              class="emphasis"><em>B.A.-BA</em></span> NFS, un système de fichiers réseau</strong></p></div></div></div><div
                    class="para">
						NFS — <span
                      class="foreignphrase"><em
                        class="foreignphrase">Network File System</em></span> — est un système de fichiers réseau ; sous Linux, il permet d'accéder de manière transparente à des fichiers distants en les intégrant dans l'arborescence du système.
					</div></div><div
                  class="para">
						La liste complète des systèmes de fichiers reconnus est disponible dans la page de manuel <span
                    class="citerefentry"><span
                      class="refentrytitle">mount</span>(8)</span>. La valeur spéciale <code
                    class="literal">swap</code> sert aux partitions d'échange ; la valeur spéciale <code
                    class="literal">auto</code> demande au programme <code
                    class="command">mount</code> de détecter automatiquement le système de fichiers (ce qui est surtout utile pour les lecteurs de disquettes et les clés USB, car chacune peut abriter un système de fichiers différent).
					</div></li><li
                class="listitem"><div
                  class="para">
						Options : elles sont nombreuses, dépendent du système de fichiers et sont documentées dans la page de manuel de <code
                    class="command">mount</code>. En voici les plus courantes :
					</div><div
                  class="itemizedlist"><ul><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">rw</code> ou <code
                          class="literal">ro</code> feront respectivement monter le système de fichiers en lecture/écriture ou en lecture seule.
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">noauto</code> désactive le montage automatique au démarrage.
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">user</code> autorise tous les utilisateurs à monter ce système de fichiers (opération d'ordinaire réservée à root).
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">defaults</code> correspond à l'ensemble d'options (<code
                          class="literal">rw</code>, <code
                          class="literal">suid</code>, <code
                          class="literal">dev</code>, <code
                          class="literal">exec</code>, <code
                          class="literal">auto</code>, <code
                          class="literal">nouser</code> et <code
                          class="literal">async</code>), qu'on pourra inhiber individuellement après <code
                          class="literal">defaults</code> — soit en ajoutant <code
                          class="literal">nosuid</code>, <code
                          class="literal">nodev</code> etc. pour bloquer <code
                          class="literal">suid</code>, <code
                          class="literal">dev</code> etc, soit en ajoutant <code
                          class="literal">user</code> pour réactiver cette option (puisque <code
                          class="literal">defaults</code> inclut <code
                          class="literal">nouser</code>).
							</div></li></ul></div></li><li
                class="listitem"><div
                  class="para">
						Sauvegarde : ce champ est presque toujours à <code
                    class="literal">0</code>. Lorsqu'il vaut <code
                    class="literal">1</code>, il indique à l'utilitaire <code
                    class="command">dump</code> que la partition contient des données à sauvegarder.
					</div></li><li
                class="listitem"><div
                  class="para">
						Ordre de vérification : ce dernier champ indique si l'intégrité du système de fichiers doit être vérifiée au démarrage et dans quel ordre cette vérification doit avoir lieu. S'il est à <code
                    class="literal">0</code>, aucune vérification n'est faite. Le système de fichiers racine doit avoir la valeur <code
                    class="literal">1</code>, les autres systèmes de fichiers permanents du système recevront la valeur <code
                    class="literal">2</code>.
					</div></li></ul></div><div
            class="example"><a
              id="example.fstab"></a><p
              class="title"><strong>Exemple 8.5. Exemple de fichier <code
                  class="filename">/etc/fstab</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
# /etc/fstab: static file system information.
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
proc            /proc           proc    defaults        0       0
# / was on /dev/sda1 during installation
UUID=c964222e-6af1-4985-be04-19d7c764d0a7 /               ext3    errors=remount-ro 0       1
# swap was on /dev/sda5 during installation
UUID=ee880013-0f63-4251-b5c6-b771f53bd90e none            swap    sw              0       0
/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto     0       0
/dev/fd0        /media/floppy   auto    rw,user,noauto  0       0
arrakis:/partage /partage       nfs     defaults        0       0
</pre></div></div><div
            class="para">
				La dernière entrée de cet exemple correspond à un système de fichiers en réseau (NFS) : le répertoire <code
              class="filename">/partage/</code> du serveur <span
              class="emphasis"><em>arrakis</em></span> est monté sur le répertoire <code
              class="filename">/partage/</code> local. Le format du fichier <code
              class="filename">/etc/fstab</code> est documenté dans la page de manuel <span
              class="citerefentry"><span
                class="refentrytitle">fstab</span>(5)</span>.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>POUR ALLER PLUS LOIN</em></span> Auto-monteurs</strong></p></div></div></div><div
              class="para">
				Le paquet <span
                class="emphasis"><em>am-utils</em></span> fournit l'auto-monteur <code
                class="command">amd</code>, capable de monter les périphériques amovibles à la demande lorsqu'un utilisateur tentera d'accéder à leur point de montage habituel. Il les démontera automatiquement quand plus aucun processus n'y accédera.
			</div><a
              id="idm140443394915184"
              class="indexterm"></a><a
              id="idm140443394914064"
              class="indexterm"></a><a
              id="idm140443394912944"
              class="indexterm"></a><a
              id="idm140443394911824"
              class="indexterm"></a><a
              id="idm140443394910704"
              class="indexterm"></a><div
              class="para">
				D'autres auto-monteurs existent, par exemple <code
                class="command">automount</code> du paquet <span
                class="emphasis"><em>autofs</em></span>.
			</div><div
              class="para">
				On notera également que les environnements de bureau GNOME et KDE collaborent avec le système <code
                class="command">udisks</code> et peuvent monter automatiquement les périphériques amovibles lors de leur apparition.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.locate-updatedb"></a>8.9.6. <code
                    class="command">locate</code> et <code
                    class="command">updatedb</code></h3></div></div></div><a
            id="idm140443394905088"
            class="indexterm"></a><a
            id="idm140443394903968"
            class="indexterm"></a><a
            id="idm140443394902848"
            class="indexterm"></a><div
            class="para">
				La commande <code
              class="command">locate</code> retrouve l'emplacement d'un fichier dont on connaît une partie du nom. Elle renvoie un résultat quasi instantanément car elle consulte une base de données particulière qui stocke l'emplacement de tous les fichiers du système ; celle-ci est mise à jour quotidiennement par la commande <code
              class="command">updatedb</code>. Il existe plusieurs mises en œuvre de la commande <code
              class="command">locate</code> ; Debian a choisi <span
              class="pkg pkg">mlocate</span> comme mise en œuvre standard.
			</div><div
            class="para">
				<code
              class="command">mlocate</code> est suffisamment fin pour ne renvoyer que les fichiers accessibles à l'utilisateur qui lance la commande, et ce bien qu'il utilise une base de données répertoriant tous les fichiers du système (puisque sa mise en œuvre d'<code
              class="command">updatedb</code> tourne avec les permissions de root). Pour plus de sûreté, l'administrateur peut exclure certains répertoires de l'indexation, en utilisant la variable <code
              class="varname">PRUNEDPATHS</code> du fichier de configuration <code
              class="filename">/etc/updatedb.conf</code>.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-bootloader.html"><strong>Précédent</strong>8.8. Configuration du chargeur d'amorçage</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Niveau supérieur</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Sommaire</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-compilation.html"><strong>Suivant</strong>8.10. Compilation d'un noyau</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.config-misc.html">ar-MA</a></li><li><a
              href="../da-DK/sect.config-misc.html">da-DK</a></li><li><a
              href="../de-DE/sect.config-misc.html">de-DE</a></li><li><a
              href="../el-GR/sect.config-misc.html">el-GR</a></li><li><a
              href="../en-US/sect.config-misc.html">en-US</a></li><li><a
              href="../es-ES/sect.config-misc.html">es-ES</a></li><li><a
              href="../fa-IR/sect.config-misc.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.config-misc.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.config-misc.html">hr-HR</a></li><li><a
              href="../id-ID/sect.config-misc.html">id-ID</a></li><li><a
              href="../it-IT/sect.config-misc.html">it-IT</a></li><li><a
              href="../ja-JP/sect.config-misc.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.config-misc.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.config-misc.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.config-misc.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.config-misc.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.config-misc.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.config-misc.html">zh-CN</a></li></ul></div></body></html>
