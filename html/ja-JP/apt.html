<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">第6章 保守と更新、APT ツール</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ja-JP-1.0-1" /><meta
        name="keywords"
        content="apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Debian 管理者ハンドブック" /><link
        rel="up"
        href="index.html"
        title="Debian 管理者ハンドブック" /><link
        rel="prev"
        href="sect.coexistence-with-other-packaging-systems.html"
        title="5.5. 他のパッケージ化システムとの共存" /><link
        rel="next"
        href="sect.apt-get.html"
        title="6.2. aptitude と apt-get コマンド" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/ja-JP/apt.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>戻る</strong></a></li><li
          class="home">Debian 管理者ハンドブック</li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>次へ</strong></a></li></ul><div
        xml:lang="ja-JP"
        class="chapter"
        lang="ja-JP"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="apt"></a>第6章 保守と更新、APT ツール</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="apt.html#sect.apt-sources.list">6.1. <code
                    class="filename">sources.list</code> ファイルの内容</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="apt.html#idm139949020928208">6.1.1. 構文</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#idm139949017674944">6.1.2. <span
                        class="distribution distribution">安定版</span> ユーザ用リポジトリ</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#idm139949010703600">6.1.3. <span
                        class="distribution distribution">テスト版</span>/<span
                        class="distribution distribution">不安定版</span>ユーザ向けリポジトリ</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#idm139949028816352">6.1.4. 非公式リソース、<code
                        class="literal">apt-get.org</code> と <code
                        class="literal">mentors.debian.net</code></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#idm139949028796848">6.1.5. Debian パッケージのキャッシュプロキシ</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-get.html">6.2. <code
                    class="command">aptitude</code> と <code
                    class="command">apt-get</code> コマンド</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-get.html#idm139949028767888">6.2.1. 初期設定</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#idm139949028760816">6.2.2. インストールと削除</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-upgrade">6.2.3. システムのアップグレード</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-config">6.2.4. 設定オプション</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt.priorities">6.2.5. パッケージ優先度の管理</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-mix-distros">6.2.6. 複数ディストリビューションの利用</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.automatic-tracking">6.2.7. 自動的にインストールされたパッケージの追跡</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-cache.html">6.3. <code
                    class="command">apt-cache</code> コマンド</a></span></dt><dt><span
                class="section"><a
                  href="sect.apt-frontends.html">6.4. フロントエンド、<code
                    class="command">aptitude</code>、<code
                    class="command">synaptic</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#sect.aptitude">6.4.1. <code
                        class="command">aptitude</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#idm139949026890208">6.4.2. <code
                        class="command">synaptic</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.package-authentication.html">6.5. パッケージ信頼性の確認</a></span></dt><dt><span
                class="section"><a
                  href="sect.dist-upgrade.html">6.6. 安定版から次のディストリビューションへのアップグレード</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#idm139949026841200">6.6.1. 推奨手順</a></span></dt><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#idm139949026817760">6.6.2. アップグレードの後から問題を取り扱う</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.regular-upgrades.html">6.7. システムを最新の状態に保つ</a></span></dt><dt><span
                class="section"><a
                  href="sect.automatic-upgrades.html">6.8. 自動アップグレード</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#idm139949026757824">6.8.1. <code
                        class="command">dpkg</code> の設定</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#idm139949026753856">6.8.2. APT の設定</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#idm139949026751440">6.8.3. <code
                        class="command">debconf</code> の設定</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#idm139949026742496">6.8.4. コマンドラインインターフェースの取り扱い</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#idm139949026738160">6.8.5. 奇跡の組み合わせ</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.searching-packages.html">6.9. パッケージの検索</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Debian が管理者に人気がある理由は、ソフトウェアのインストールが簡単で、システム全体の更新が簡単だからです。この比類なき長所は、主として <span
              class="emphasis"><em>APT</em></span> プログラムが担っており、Falcot Corp の管理者はこれについて熱心に学びました。
	</div></div><div
          class="para">
		<a
            id="idm139949015482800"
            class="indexterm"></a><a
            id="idm139949016709360"
            class="indexterm"></a>APT は Advanced Package Tool の略称です。このプログラムを「先進的」たらしめているものとは、パッケージの取り扱い方です。APT はパッケージを独立なものとして簡単に評価するのではなく、パッケージ全体を考慮し、(依存関係に従って) 利用できて相性の良いパッケージを選び出すことで、実現できる最適なパッケージの組み合わせを作り出します。
	</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>VOCABULARY</em></span> パッケージソースとソースパッケージ</strong></p></div></div></div><div
            class="para">
		<span
              class="emphasis"><em>ソース</em></span> という言葉は意味が曖昧になる場合があります。ソースパッケージ — プログラムのソースコードを含んだパッケージ — をパッケージソース — パッケージが保存されているリポジトリ (ウェブサイト、FTP サーバ、CD-ROM、ローカルディレクトリなど) — と混同してはいけません。
	</div></div><div
          class="para">
		APT には「パッケージソースのリスト」を与える必要があります。つまり <code
            class="filename">/etc/apt/sources.list</code> には Debian パッケージを公開しているさまざまなリポジトリ (または「ソース」) が記載されています。APT はそれぞれのソースが公開しているパッケージのリストを取り込みます。具体的に言うと、(バイナリパッケージの場合) <code
            class="filename">Packages.xz</code> ファイルまたは別の方法で圧縮されたファイル (<code
            class="filename">Packages.gz</code>、<code
            class="filename">.bz2</code>、<code
            class="filename">.lzma</code>)、(ソースパッケージの場合) <code
            class="filename">Sources.xz</code> ファイルまたは別の方法で圧縮されたファイルをダウンロードして、内容を解析して、パッケージのリストを取り込みます。これらのファイルの古いコピーが既にあるのなら、APT は差分だけをダウンロードしてファイルを更新します (傍注<a
            class="xref"
            href="sect.apt-get.html#sidebar.apt-pdiff"><span
              class="emphasis"><em>TIP</em></span> 増分アップグレード</a>を参照してください)。
	</div><a
          id="idm139949015032016"
          class="indexterm"></a><a
          id="idm139949017109904"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>BACK TO BASICS</em></span> <code
                      class="command">gzip</code>、<code
                      class="command">bzip2</code>、<code
                      class="command">LZMA</code>、<code
                      class="command">XZ</code> 圧縮</strong></p></div></div></div><a
            id="idm139949017788912"
            class="indexterm"></a><a
            id="idm139949017787792"
            class="indexterm"></a><a
            id="idm139949012710816"
            class="indexterm"></a><a
            id="idm139949012709696"
            class="indexterm"></a><div
            class="para">
		<code
              class="filename">.gz</code> 拡張子は <code
              class="command">gzip</code> ユーティリティで圧縮されたファイルを意味しています。<code
              class="command">gzip</code> は高速で効果的にファイルを圧縮する伝統的 Unix ユーティリティです。新しいツールは、ファイルを圧縮および展開するために、高い圧縮効率を達成しますが、多くのリソース (計算時間とメモリ) を必要とします。その中でも、登場順に、<code
              class="command">bzip2</code> (<code
              class="filename">.bz2</code> 拡張子のファイルを生成)、<code
              class="command">lzma</code> (<code
              class="filename">.lzma</code> ファイル)、<code
              class="command">xz</code> (<code
              class="filename">.xz</code> ファイル) などがあります。
	</div></div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.apt-sources.list"></a>6.1. <code
                    class="filename">sources.list</code> ファイルの内容</h2></div></div></div><a
            id="idm139949020933328"
            class="indexterm"></a><a
            id="idm139949020932208"
            class="indexterm"></a><a
            id="idm139949020930768"
            class="indexterm"></a><a
            id="idm139949020929328"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="idm139949020928208"></a>6.1.1. 構文</h3></div></div></div><div
              class="para">
				<code
                class="filename">/etc/apt/sources.list</code> ファイルの有効な各行には、空白で分割された 3 つの部分からなる、ソースの説明が含まれています。
			</div><div
              class="para">
				1 番目のフィールドはソースタイプです。
			</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
						「<code
                      class="literal">deb</code>」はバイナリパッケージ用、
					</div></li><li
                  class="listitem"><div
                    class="para">
						「<code
                      class="literal">deb-src</code>」はソースパッケージ用です。
					</div></li></ul></div><div
              class="para">
				2 番目のフィールドはパッケージソースの基点 URL です (<code
                class="filename">Packages.gz</code> ファイル内のファイル名と組み合わせます、これは完全で有効な URL でなければいけません)。なぜなら、起点 URL には Debian ミラーまたはサードパーティが提供する他のパッケージアーカイブを指定できるからです。URL は、システムのファイル階層構造の中にあるローカルソースを表す <code
                class="literal">file://</code>、ウェブサーバにあるソースを示す <code
                class="literal">http://</code>、FTP サーバにあるソースを示す <code
                class="literal">ftp://</code>、で始めることが可能です。この URL はまた CD-ROM/DVD-ROM/Blu-ray ディスクからインストールしたことを表す <code
                class="literal">cdrom://</code> で始めることも可能です。しかしこれはそれほど多くありません。なぜなら、ネットワークを使ったインストール方法がずっと一般的だからです。
			</div><div
              class="para">
				最後のフィールドの構文はリポジトリの構造に依存します。最も単純な場合、このフィールドにはソースから見たサブディレクトリ (末尾スラッシュ必須) を指定します (サブディレクトリがない — パッケージが指定された URL の直下に有る — ことを示す単純な「<code
                class="filename">./</code>」の場合が多いです)。しかし最も多く見られるのは、リポジトリが Debian ミラーのように構造化されている、つまり、複数のコンポーネントを持つ複数のディストリビューションを配布している場合です。この場合、そのマシンのディストリビューションの名前 (「コードネーム」— 傍注<a
                class="xref"
                href="sect.foundation-documents.html#sidebar.bruce-perens"><span
                  class="emphasis"><em>COMMUNITY</em></span> Bruce Perens さん、賛否の分かれるリーダー</a>を参照 — または対応する「スイート」— <code
                class="literal">stable</code>、<code
                class="literal">testing</code>、<code
                class="literal">unstable</code>) を指定し、その後に有効化するコンポーネント (またはセクション) を指定します (典型的な Debian ミラーでは <code
                class="literal">main</code>、<code
                class="literal">contrib</code>、<code
                class="literal">non-free</code> から選びます)。
			</div><div
              class="sidebar"><a
                id="sidebar.sections"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>VOCABULARY</em></span> <code
                          class="literal">main</code>、<code
                          class="literal">contrib</code>、<code
                          class="literal">non-free</code> アーカイブ</strong></p></div></div></div><a
                id="idm139949022368304"
                class="indexterm"></a><a
                id="idm139949022366704"
                class="indexterm"></a><a
                id="idm139949022365424"
                class="indexterm"></a><a
                id="idm139949022363824"
                class="indexterm"></a><a
                id="idm139949022362544"
                class="indexterm"></a><a
                id="idm139949022360944"
                class="indexterm"></a><a
                id="idm139949022359664"
                class="indexterm"></a><div
                class="para">
				Debian では、パッケージの作者が決めたライセンスを基準に、パッケージを 3 つのセクションに分類しています。<code
                  class="literal">Main</code> には Debian フリーソフトウェアガイドラインに適合するすべてのパッケージが収録されています。
			</div><div
                class="para">
				これに対して、<code
                  class="literal">non-free</code> アーカイブには、原則に (完全に) 従うわけではないものの制限なく配布することを許されたソフトウェアが収録されています。このアーカイブは公式には Debian の一部ではなく、これらのプログラムを必要としている — しかし Debian は常にフリーソフトウェアを重点的に使うことを推奨します — ユーザ向けのサービスです。このセクションの存在は Richard M. Stallman さんにとって無視できない問題であり、このセクションがあるためにフリーソフトウェア財団は Debian をユーザに推奨し続けています。
			</div><div
                class="para">
				<code
                  class="literal">contrib</code> (貢献) には、フリーではない要素を使わなければ動かないオープンソースソフトウェアが収録されています。フリーではない要素とは <code
                  class="literal">non-free</code> セクションからのソフトウェア、またはたとえばゲーム ROM、コンソールの BIOS、などのフリーではないファイルを指します。また、<code
                  class="literal">contrib</code> にはコンパイルの際にプロプライエタリな要素を必要とするフリーソフトウェアが収録されています。当初これはプロプライエタリな Java 環境を必要とする OpenOffice.org オフィススイートのためのものでした。
			</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>TIP</em></span> <code
                          class="filename">/etc/apt/sources.list.d/*.list</code> ファイル</strong></p></div></div></div><div
                class="para">
				多数のパッケージソースを利用する場合、これらを複数のファイルに分割すると便利かもしれません。この場合、各パッケージソースを <code
                  class="filename">/etc/apt/sources.list.d/<em
                    class="replaceable">filename</em>.list</code> に保存します (傍注<a
                  class="xref"
                  href="sect.apt-get.html#sidebar.directory.d"><span
                    class="emphasis"><em>BACK TO BASICS</em></span> <code
                    class="filename">.d</code> で終わるディレクトリ</a>を参照してください)。
			</div></div><a
              id="idm139949017680048"
              class="indexterm"></a><div
              class="para">
				<code
                class="literal">cdrom</code> エントリはあなたの持っている CD/DVD-ROM を表しています。他のエントリと異なり、CD-ROM は常に利用できるわけではありません。なぜなら、ディスクをドライブに挿入しなければいけませんし、一度に 1 つのディスクしか読めないからです。このような理由で、CD-ROM ソースは少し違う方法で管理されます。ソースを追加するには通常 <code
                class="command">apt-cdrom</code> プログラムに <code
                class="literal">add</code> パラメータを付けて実行します。このようにプログラムを実行すると、ドライブにディスクを挿入するよう要求されます。プログラムはディスクの内容を閲覧して <code
                class="filename">Packages</code> ファイルを探します。このファイルは利用できるパッケージデータベースを更新する際に利用されます (更新作業は <code
                class="command">apt-get update</code> コマンドで実行されます)。そして、APT はディスクに含まれるパッケージが必要になったらディスクを挿入するように要求します。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="idm139949017674944"></a>6.1.2. <span
                      class="distribution distribution">安定版</span> ユーザ用リポジトリ</h3></div></div></div><div
              class="para">
				下に示すのは、Debian の<span
                class="distribution distribution">安定版</span>を動かしているシステムで標準的な <code
                class="filename">sources.list</code> です。
			</div><div
              class="example"><a
                id="example.stable-sources-list"></a><p
                class="title"><strong>例6.1 Debian 安定版ユーザ向けの <code
                    class="filename">/etc/apt/sources.list</code> ファイル</strong></p><div
                class="example-contents"><pre
                  class="programlisting"># Security updates
deb http://security.debian.org/ jessie/updates main contrib non-free
deb-src http://security.debian.org/ jessie/updates main contrib non-free

## Debian mirror

# Base repository
deb http://ftp.debian.org/debian jessie main contrib non-free
deb-src http://ftp.debian.org/debian jessie main contrib non-free

# Stable updates
deb http://ftp.debian.org/debian jessie-updates main contrib non-free
deb-src http://ftp.debian.org/debian jessie-updates main contrib non-free

# Stable backports
deb http://ftp.debian.org/debian jessie-backports main contrib non-free
deb-src http://ftp.debian.org/debian jessie-backports main contrib non-free</pre></div></div><div
              class="para">
				このファイルは Debian <span
                class="distribution distribution">Jessie</span> (これを書いている時点の <span
                class="distribution distribution">安定版</span>) に関連するパッケージの全ソースをリストしています。ここでディストリビューション名に「jessie」を使い、対応する「stable」(<code
                class="literal">stable</code>、<code
                class="literal">stable-updates</code>、<code
                class="literal">stable-backports</code>) という別名を使わなかった理由は、新しい安定版が公開されたことで自動的にディストリビューションのバージョンが変わるのを望まないからです。
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>QUICK LOOK</em></span> <code
                          class="command">apt-spy</code></strong></p></div></div></div><a
                id="idm139949010761040"
                class="indexterm"></a><div
                class="para">
				このソフトウェアはいくつかの Debian ミラーのダウンロード速度をテストして、最も高速なミラーを使うように <code
                  class="filename">sources.list</code> を生成します。
			</div><div
                class="para">
				一般に、インストール中に選ばれたミラーは、国に基づいて選ばれているため、適切なものです。しかしながら、もしダウンロードが遅かったり引っ越しした場合は、<span
                  class="pkg pkg">apt-spy</span> パッケージから利用できるこのアプリケーションを試しに実行してみることも可能です。
			</div></div><div
              class="para">
				ほとんどのパッケージは「ベースリポジトリ」から取得されます。「ベースリポジトリ」にはすべてのパッケージが収録されていますが、めったに更新されません (約 2 カ月に 1 度の「ポイントリリース」で更新されます)。他のリポジトリには、一部のパッケージしか収録されていません (すべてパッケージが収録されているわけではありません) が、APT がインストールする更新 (パッケージの新しいバージョン) が収録されています。以下の節ではこの目的と、それぞれのリポジトリを支配しているルールについて説明します。
			</div><div
              class="para">
				あるパッケージの希望したバージョンが複数のリポジトリから取得できる場合、<code
                class="filename">sources.list</code> ファイルにリストされた最初のリポジトリから取得されることに注意してください。この理由から、非公式ソースは通常最後に追加されます。
			</div><div
              class="para">
				ちなみに、この節で<span
                class="distribution distribution">安定版</span>に関して述べていることのほとんどは<span
                class="distribution distribution">旧安定版</span>に関しても同じことが言えます。なぜなら、<span
                class="distribution distribution">旧安定版</span>とは並行して保守されている古い<span
                class="distribution distribution">安定版</span>に過ぎないからです。
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.security-updates"></a>6.1.2.1. セキュリティ更新</h4></div></div></div><a
                id="idm139949010750768"
                class="indexterm"></a><a
                id="idm139949010749648"
                class="indexterm"></a><a
                id="idm139949010748720"
                class="indexterm"></a><div
                class="para">
					セキュリティ更新は Debian ミラーの通常のネットワーク上ではなく、<code
                  class="literal">security.debian.org</code> (<a
                  class="link"
                  href="sect.debian-internals.html#dsa-team">Debian システム管理者</a> が管理する少数のマシン) でホストされています。このアーカイブには、<span
                  class="distribution distribution">安定版</span>ディストリビューション用の (Debian セキュリティチームまたはパッケージメンテナが用意した) セキュリティ更新が含まれています。
				</div><div
                class="para">
					このサーバは<span
                  class="distribution distribution">テスト版</span>用のセキュリティ更新もホストしていますが、実際にこれがホストされることはめったにありません。なぜなら、<span
                  class="distribution distribution">テスト版</span> 対するセキュリティ更新は<span
                  class="distribution distribution">不安定版</span>対する通常の更新手順を通じて行われることが多いからです。
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.stable-updates"></a>6.1.2.2. 安定版更新</h4></div></div></div><a
                id="idm139949010741168"
                class="indexterm"></a><a
                id="idm139949010740208"
                class="indexterm"></a><a
                id="idm139949010739088"
                class="indexterm"></a><div
                class="para">
					安定版更新はセキュリティに影響を与えるものではありませんが、その重要性は次の安定版ポイントリリースよりも前にユーザに提供するに値するとみなされます。
				</div><div
                class="para">
					このリポジトリには通常、リリースの前に修正できなかったり、後続の更新によって生まれた、重要なバグの修正が含まれています。緊急度に応じて、時間とともに進化させる必要のあるパッケージの更新… たとえば <span
                  class="pkg pkg">spamassassin</span> のスパム検出ルール、<span
                  class="pkg pkg">clamav</span> のウイルスデータベース、すべてのタイムゾーンの夏時間ルール (<span
                  class="pkg pkg">tzdata</span>) など、を含めることが可能です。
				</div><div
                class="para">
					実際のところ、このリポジトリは内容を <code
                  class="literal">proposed-updates</code> リポジトリからの一部抜粋したもので、安定版リリースマネージャが内容を注意深く選んでいます。
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.proposed-updates"></a>6.1.2.3. 提案された更新</h4></div></div></div><a
                id="idm139949010731904"
                class="indexterm"></a><a
                id="idm139949010730784"
                class="indexterm"></a><div
                class="para">
					ひとたび公開されたら、<span
                  class="distribution distribution">安定版</span> ディストリビューションが更新される頻度は約 2 カ月に 1 回だけです。<code
                  class="literal">proposed-updates</code> リポジトリは (安定版リリースマネージャの指揮の下で) 予定された更新を準備する場所です。
				</div><div
                class="para">
					前の節で説明したセキュリティ更新と安定版更新は、常に <code
                  class="literal">proposed-updates</code> リポジトリに加えられますが、更新は他にもあります。なぜなら、パッケージメンテナは素早くリリースすることもないけれど重要と思われるバグを修正する機会があるからです。
				</div><div
                class="para">
					誰でも、正式公開前に更新をテストするために、<code
                  class="literal">proposed-updates</code> リポジトリを使うことが可能です。以下で引用した例は <code
                  class="literal">jessie-proposed-updates</code> という別名を使っています。このような、より明白でより一貫性のある別名を使っている理由は、(<span
                  class="distribution distribution">旧安定版</span> に対する更新用のリポジトリとして) <code
                  class="literal">wheezy-proposed-updates</code> という別名が存在するからです。
				</div><pre
                class="programlisting">deb http://ftp.debian.org/debian jessie-proposed-updates main contrib non-free</pre></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.backports"></a>6.1.2.4. 安定版バックポート</h4></div></div></div><a
                id="idm139949010722608"
                class="indexterm"></a><a
                id="idm139949010721488"
                class="indexterm"></a><a
                id="idm139949010720528"
                class="indexterm"></a><div
                class="para">
					<code
                  class="literal">stable-backports</code> リポジトリは「パッケージのバックポート」をホストしています。この用語は、古いディストリビューション用に、通常は<span
                  class="distribution distribution">安定版</span>用に、再コンパイルした最新ソフトウェアのパッケージを指す言葉です。
				</div><div
                class="para">
					ディストリビューションがほんの少し時代遅れになっただけで、多くのソフトウェアプロジェクトが新バージョンをリリースしますが、新バージョンは現在の<span
                  class="distribution distribution">安定版</span>に取り込まれません (このディストリビューションは最も重要な問題、たとえばセキュリティ問題など、の修正しか取り込みません)。<span
                  class="distribution distribution">テスト版</span>と<span
                  class="distribution distribution">不安定版</span>ディストリビューションはより危険性が高いので、パッケージメンテナはしばしば<span
                  class="distribution distribution">安定版</span>向けに最新のソフトウェアアプリケーションを再コンパイルして提供することがあります。これは潜在的不安定性を少数の選ばれたパッケージだけに制限できるという利点があります。<div
                  class="url">→ <a
                    href="http://backports.debian.org">http://backports.debian.org</a></div>
				</div><div
                class="para">
					今や、<code
                  class="literal">stable-backports</code> リポジトリは普通の Debian ミラーから利用できます。しかし <span
                  class="distribution distribution">Squeeze</span> 用のバックポートはまだ専用サーバ (<code
                  class="literal">backports.debian.org</code>) でホストされており、以下の <code
                  class="filename">sources.list</code> エントリが必要です。
				</div><a
                id="idm139949010710208"
                class="indexterm"></a><pre
                class="programlisting">deb http://backports.debian.org/debian-backports squeeze-backports main contrib non-free</pre><div
                class="para">
					<code
                  class="literal">stable-backports</code> に収録されているバックポートは常に<span
                  class="distribution distribution">テスト版</span>で利用できるパッケージから作成されます。これは、次の Debian 安定版リリースが利用できるようになったら、すべてのインストール済みバックポートは対応する安定版にアップグレードできる、ということを保証します。
				</div><div
                class="para">
					このリポジトリはパッケージの新しいバージョンを提供しますが、APT は明確な指示を出さない限り (または以前に同じバックポートの古いバージョンをインストールしていない限り) バックポートパッケージをインストールしません。
				</div><pre
                class="screen">
$ <strong
                  class="userinput"><code>sudo apt-get install <em
                      class="replaceable">package</em>/jessie-backports</code></strong>
$ <strong
                  class="userinput"><code>sudo apt-get install -t jessie-backports <em
                      class="replaceable">package</em></code></strong></pre></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="idm139949010703600"></a>6.1.3. <span
                      class="distribution distribution">テスト版</span>/<span
                      class="distribution distribution">不安定版</span>ユーザ向けリポジトリ</h3></div></div></div><div
              class="para">
				下に示すのは、Debian の<span
                class="distribution distribution">テスト版</span>や<span
                class="distribution distribution">不安定版</span>を動かしているシステムで標準的な <code
                class="filename">sources.list</code> です。
			</div><div
              class="example"><a
                id="example.testing-sources-list"></a><p
                class="title"><strong>例6.2 Debian <span
                    class="distribution distribution">テスト版</span>/<span
                    class="distribution distribution">不安定版</span>ユーザ向けの <code
                    class="filename">/etc/apt/sources.list</code> ファイル</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# Unstable
deb http://ftp.debian.org/debian unstable main contrib non-free
deb-src http://ftp.debian.org/debian unstable main contrib non-free

# Testing
deb http://ftp.debian.org/debian testing main contrib non-free
deb-src http://ftp.debian.org/debian testing main contrib non-free

# Stable
deb http://ftp.debian.org/debian stable main contrib non-free
deb-src http://ftp.debian.org/debian stable main contrib non-free

# Security updates
deb http://security.debian.org/ stable/updates main contrib non-free
deb http://security.debian.org/ testing/updates main contrib non-free
deb-src http://security.debian.org/ stable/updates main contrib non-free
deb-src http://security.debian.org/ testing/updates main contrib non-free</pre></div></div><div
              class="para">
				この <code
                class="filename">sources.list</code> ファイルを使う場合、APT は<span
                class="distribution distribution">不安定版</span>からパッケージをインストールします。これを望まない場合、<code
                class="literal">APT::Default-Release</code> 設定を使って (<a
                class="xref"
                href="sect.apt-get.html#sect.apt-upgrade">「システムのアップグレード」</a>をご覧ください) APT に他のディストリビューションから (この場合<span
                class="distribution distribution">テスト版</span>から) パッケージを取得するよう伝えます。
			</div><div
              class="para">
				1 つでも十分なのに、すべてのリポジトリを含めるのには正当な理由があります。<span
                class="distribution distribution">テスト版</span>ユーザは、あるパッケージの<span
                class="distribution distribution">テスト版</span>に含まれるバージョンが厄介なバグの影響を受けている場合、<span
                class="distribution distribution">不安定版</span>に含まれる修正されたバージョンを使えると良いと考えるでしょう。逆に、予期しない不具合に悩まされ続けている<span
                class="distribution distribution">不安定版</span>のユーザは、パッケージを (おそらく動く) <span
                class="distribution distribution">テスト版</span>に含まれるバージョンにダウングレードできます。
			</div><div
              class="para">
				ここに<span
                class="distribution distribution">安定版</span>が含まれている点については異論があるかもしれませんが、こうすることで開発版から削除されたパッケージを入手できるようになります。また、最新安定版リリース以降に変更されたパッケージの最新更新を手に入れることも保証されます。
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="idm139949028828544"></a>6.1.3.1. <span
                        class="distribution distribution">実験版</span>リポジトリ</h4></div></div></div><a
                id="idm139949028827120"
                class="indexterm"></a><div
                class="para">
					<span
                  class="distribution distribution">テスト版</span>パッケージはすべての Debian ミラーに存在し、品質基準を満たしていないためにまだ<span
                  class="distribution distribution">不安定版</span>に収録されていないパッケージを含んでいます — このようなパッケージはソフトウェアの開発版バージョンか先行バージョン (アルファ、ベータ、リリース候補…) であることが多いです。メンテナは、重要な問題を取り扱う能力を持つ先進的なユーザの助けを借りて、パッケージを公開しようとします。この最初のステージの後、パッケージは<span
                  class="distribution distribution">不安定版</span>に移動されます。ここで、パッケージはより多くのユーザに配布され、より詳細にテストされます。
				</div><div
                class="para">
					<span
                  class="distribution distribution">実験版</span>を使うのは通常、システムを破壊したり修復することを気にしないユーザです。このディストリビューションでは、ユーザは必要に応じて試してみたいか使ってみたいと思ったパッケージを取り込むことができます。これはまさに Debian が<span
                  class="distribution distribution">実験版</span>を使う時の方法です。なぜなら、<span
                  class="distribution distribution">実験版</span>を APT の <code
                  class="filename">sources.list</code> ファイルに追加することは、パッケージの体系的な利用に結び付かないからです。<span
                  class="distribution distribution">実験版</span>を追加するには以下のようにします。
				</div><div
                class="informalexample"><pre
                  class="programlisting">deb http://ftp.debian.org/debian experimental main contrib non-free</pre></div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="idm139949028816352"></a>6.1.4. 非公式リソース、<code
                      class="literal">apt-get.org</code> と <code
                      class="literal">mentors.debian.net</code></h3></div></div></div><a
              id="idm139949028814784"
              class="indexterm"></a><a
              id="idm139949028813664"
              class="indexterm"></a><div
              class="para">
				Debian パッケージの非公式ソースはたくさんあります。非公式ソースはソフトウェアを再コンパイルした先進的ユーザ (非公式ソースの人気を高める原因となった Personal Package Archive サービスを提供する Ubuntu) や自分の創作物を誰でも利用できる状態にするプログラマや自分のパッケージの先行バージョンをオンラインで提供する Debian 開発者によって提供されています。
			</div><div
              class="para">
				<code
                class="literal">mentors.debian.net</code> サイトもまた興味深いです (ただしこのサイトが配布しているのはソースパッケージだけです)。なぜならここには、パッケージの統合過程を経ずに、公式 Debian 開発者の候補者や Debian パッケージを作りたいと望むボランティアが作成したソースパッケージをアップロードできるからです。これらのパッケージは、品質保証のないまま、利用できるようになっています。このため、起源と整合性を必ず確認し、稼働中のシステムでパッケージを使う前にパッケージを必ずテストしてください。
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>COMMUNITY</em></span> <code
                          class="literal">debian.net</code> サイト</strong></p></div></div></div><a
                id="idm139949028808352"
                class="indexterm"></a><div
                class="para">
				<span
                  class="emphasis"><em>debian.net</em></span> ドメインは Debian プロジェクトの公式ではありません。それぞれの Debian 開発者は自分用にこのドメイン名を使うかもしれません。これらのウェブサイトには、Debian プロジェクトに所属せず、Debian 開発者が設けたマシンでホストされている (個人サイト) 非公式サービスや今まさに <span
                  class="emphasis"><em>debian.org</em></span> に移動されようとしている試作品が含まれています。これらの試作品が <span
                  class="emphasis"><em>debian.net</em></span> に残されている理由は 2 つあります。すなわち、誰もそのサービスを公式化する (<span
                  class="emphasis"><em>debian.org</em></span> ドメインでホストして、メンテナンスを保証する) のに必要な作業を行わなかったか、そのサービスを公式化するのはあまりに議論の余地がありすぎるかのどちらかです。
			</div></div><div
              class="para">
				あるパッケージをインストールすることは、パッケージの作者に root 権を与えることを意味しています。なぜなら、パッケージ作者は root 権で実行される初期化スクリプトの内容を決定するからです。公式 Debian パッケージは、パッケージの起源と整合性が確認できるように、選出され審査を受けたボランティアとパッケージの内容の責任を請け負うことができるボランティアによって作成されます。
			</div><div
              class="para">
				一般に、出自が不明で公式 Debian サーバの 1 つでホストされていないパッケージには警戒してください。つまり、作者の信頼度を評価し、パッケージの整合性を確認してください。<div
                class="url">→ <a
                  href="http://mentors.debian.net/">http://mentors.debian.net/</a></div>
			</div><div
              class="sidebar"><a
                id="sidebar.snapshot.debian.org"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>GOING FURTHER</em></span> 古いパッケージバージョン、<code
                          class="literal">snapshot.debian.org</code></strong></p></div></div></div><a
                id="idm139949028799616"
                class="indexterm"></a><div
                class="para">
				2010 年 4 月に登場した <code
                  class="literal">snapshot.debian.org</code> サービスにより、「時間を逆行」したり、パッケージの古いバージョンを見つけることが可能になりました。このサービスは、たとえばパッケージのどのバージョンで不具合が生じたかを特定するために、より正確に言えば、不具合が修正されるまでの期間中に古いバージョンを利用するために、使えます。
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="idm139949028796848"></a>6.1.5. Debian パッケージのキャッシュプロキシ</h3></div></div></div><a
              id="idm139949028796080"
              class="indexterm"></a><a
              id="idm139949028795152"
              class="indexterm"></a><div
              class="para">
				マシンのネットワーク全体で、同じ更新済みパッケージをダウンロードするために同じリモートサーバを使うよう設定されている場合、管理者はネットワークのローカルキャッシュとして振る舞う中間プロキシを用意するのは有益なことであると知っています (傍注<a
                class="xref"
                href="sect.apt-cache.html#sidebar.cache"><span
                  class="emphasis"><em>VOCABULARY</em></span> キャッシュ</a>を参照してください)。
			</div><div
              class="para">
				APT が「標準的な」プロキシを使うように設定することも可能です (APT 側は<a
                class="xref"
                href="sect.apt-get.html#sect.apt-config">「設定オプション」</a>、プロキシ側は<a
                class="xref"
                href="sect.http-ftp-proxy.html">「HTTP/FTP プロキシ」</a>を参照) が、Debian にはこの問題に対するより優れた選択肢が準備されています。この節で取り上げる専用ソフトウェアは単純なプロキシキャッシュよりも賢いです。なぜなら、このソフトウェアは APT リポジトリの特定の構造を頼りにできるからです (たとえば、個々のファイルが時代遅れになるタイミングがわかるので、ファイルを保存しておく時間を調整できます)。
			</div><a
              id="idm139949028790496"
              class="indexterm"></a><a
              id="idm139949028789072"
              class="indexterm"></a><div
              class="para">
				<span
                class="pkg pkg">apt-cacher</span> と <span
                class="pkg pkg">apt-cacher-ng</span> は普通のプロキシキャッシュサーバのように振る舞います。APT の <code
                class="filename">sources.list</code> を変える必要はありませんが、APT はそれらを外部リクエスト用のプロキシとして設定します。
			</div><a
              id="idm139949028784928"
              class="indexterm"></a><div
              class="para">
				これに対して、<span
                class="pkg pkg">approx</span> は最上位 URL の下にある複数のリモートリポジトリを「ミラー」する HTTP サーバのように振る舞います。最上位ディレクトリとリモート URL の対応関係は <code
                class="filename">/etc/approx/approx.conf</code> に保存されています。
			</div><pre
              class="programlisting">
# &lt;name&gt; &lt;repository-base-url&gt;
debian   http://ftp.debian.org/debian
security http://security.debian.org</pre><div
              class="para">
				<span
                class="pkg pkg">approx</span> のデフォルト設定では、inetd 経由で (<a
                class="xref"
                href="sect.inetd.html">「<code
                  class="command">inetd</code> スーパーサーバ」</a>参照) 9999 番ポートを使います。ユーザは approx サーバを指すように <code
                class="filename">sources.list</code> ファイルを書き換えなければいけません。
			</div><pre
              class="programlisting"># Sample sources.list pointing to a local approx server
deb http://apt.falcot.com:9999/security jessie/updates main contrib non-free
deb http://apt.falcot.com:9999/debian jessie main contrib non-free
</pre></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>戻る</strong>5.5. 他のパッケージ化システムとの共存</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上に戻る</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>ホーム</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>次へ</strong>6.2. aptitude と apt-get コマンド</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/apt.html">ar-MA</a></li><li><a
              href="../da-DK/apt.html">da-DK</a></li><li><a
              href="../de-DE/apt.html">de-DE</a></li><li><a
              href="../el-GR/apt.html">el-GR</a></li><li><a
              href="../en-US/apt.html">en-US</a></li><li><a
              href="../es-ES/apt.html">es-ES</a></li><li><a
              href="../fa-IR/apt.html">fa-IR</a></li><li><a
              href="../fr-FR/apt.html">fr-FR</a></li><li><a
              href="../hr-HR/apt.html">hr-HR</a></li><li><a
              href="../id-ID/apt.html">id-ID</a></li><li><a
              href="../it-IT/apt.html">it-IT</a></li><li><a
              href="../ja-JP/apt.html">ja-JP</a></li><li><a
              href="../pl-PL/apt.html">pl-PL</a></li><li><a
              href="../pt-BR/apt.html">pt-BR</a></li><li><a
              href="../ro-RO/apt.html">ro-RO</a></li><li><a
              href="../ru-RU/apt.html">ru-RU</a></li><li><a
              href="../tr-TR/apt.html">tr-TR</a></li><li><a
              href="../zh-CN/apt.html">zh-CN</a></li></ul></div></body></html>
