<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.4. フロントエンド: aptitude、synaptic</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ja-JP-1.0-1" /><meta
        name="keywords"
        content="apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Debian 管理者ハンドブック" /><link
        rel="up"
        href="apt.html"
        title="第6章 保守と更新: APT ツール" /><link
        rel="prev"
        href="sect.apt-cache.html"
        title="6.3. apt-cache コマンド" /><link
        rel="next"
        href="sect.package-authentication.html"
        title="6.5. パッケージ信頼性の確認" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/ja-JP/sect.apt-frontends.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>戻る</strong></a></li><li
          class="home">Debian 管理者ハンドブック</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>次へ</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.apt-frontends"></a>6.4. フロントエンド: <code
                  class="command">aptitude</code>、<code
                  class="command">synaptic</code></h2></div></div></div><a
          id="idm140535309075152"
          class="indexterm"></a><a
          id="idm140535309074032"
          class="indexterm"></a><a
          id="idm140535309072912"
          class="indexterm"></a><div
          class="para">
			APT は C++ プログラムで、<code
            class="command">libapt-pkg</code> 共有ライブラリがその機能の多くを担っています。共有ライブラリを使うとユーザインターフェース (フロントエンド) の作成が楽になります。なぜなら、ライブラリに含まれるコードは簡単に再利用できるからです。歴史的に言って、<code
            class="command">apt-get</code> は <code
            class="command">libapt-pkg</code> のテスト用フロントエンドとして設計されましたが、成功を収めたためにその事実は曖昧にされがちです。
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.aptitude"></a>6.4.1. <code
                    class="command">aptitude</code></h3></div></div></div><div
            class="para">
				<code
              class="command">aptitude</code> は対話型プログラムで、コンソールの準グラフィカルモードで使うことが可能です。このプログラムを使うと、インストール済みや利用できるパッケージのリストを閲覧したり、すべての利用できる情報を調べたり、インストールや削除するパッケージを選択できます。このプログラムは、特に管理者が使うように設計されました。そのため、デフォルトの挙動は <code
              class="command">apt-get</code> よりもずっと合理的で、インターフェースもより理解しやすいです。
			</div><div
            class="figure"><a
              id="idm140535309065856"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/aptitude.png"
                  alt="aptitude パッケージマネージャ" /></div></div><p
              class="title"><strong>図6.1 <code
                  class="command">aptitude</code> パッケージマネージャ</strong></p></div><div
            class="para">
				<code
              class="command">aptitude</code> は起動すると、状態 (インストール済み、未インストール、インストール済みだがミラーから利用不可 — 他のセクションでタスク、仮想パッケージ、最近ミラーに登場した新しいパッケージを表示します。) ごとに分類したパッケージのリストを表示します。テーマ別のパッケージリストを簡便に閲覧できるビューも用意されています。すべての場合について、<code
              class="command">aptitude</code> はカテゴリとパッケージを併せたリストを画面に表示します。カテゴリは木構造を使って系統付けられ、木構造の枝は <span
              class="keycap"><strong>Enter</strong></span>、<span
              class="keycap"><strong>[</strong></span>、<span
              class="keycap"><strong>]</strong></span> キーで開けたり閉じたりできます。<span
              class="keycap"><strong>+</strong></span> はインストールマーク、<span
              class="keycap"><strong>-</strong></span> は削除マーク、<span
              class="keycap"><strong>_</strong></span> は完全消去マークをパッケージに対して付加するのに使われます (これらのキーはカテゴリに対しても使えることに注意してください。この場合、カテゴリ内のすべてのパッケージに対して対応する操作を行います)。<span
              class="keycap"><strong>u</strong></span> は利用できるパッケージのリストを更新、<span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>u</strong></span> はグローバルシステムのアップグレードを準備します。<span
              class="keycap"><strong>g</strong></span> は要求された変更の要約ビューに切り替えます (再度 <span
              class="keycap"><strong>g</strong></span> を打てば変更を適用します)。<span
              class="keycap"><strong>q</strong></span> は現在のビューを終了します。最初のビューにいるなら、<code
              class="command">aptitude</code> を閉じます。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DOCUMENTATION</em></span> <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				この節では <code
                class="command">aptitude</code> の使い方をより詳しく述べません。この節ではこのプログラムを活用して生き残るための知恵を与えることに注力します。<code
                class="command">aptitude</code> の文書は比較的詳しく書かれており、<span
                class="pkg pkg">aptitude-doc-en</span> パッケージから利用できるプログラムの完全なマニュアルを使うことをお勧めします。<div
                class="url">→ <a
                  href="file:///usr/share/doc/aptitude/html/en/index.html">file:///usr/share/doc/aptitude/html/en/index.html</a></div>
			</div></div><div
            class="para">
				パッケージを検索するには、<span
              class="keycap"><strong>/</strong></span> を押して、検索パターンを入力してください。このパターンはパッケージの名前にマッチしますが、(<code
              class="literal">~d</code> を先頭に付けた場合) 説明、(<code
              class="literal">~s</code>) セクション、その他の特性にもマッチします。これは文書中で詳しく説明されています。同じパターンを表示されたパッケージのリストから抽出するためにも使えます: <span
              class="keycap"><strong>l</strong></span> キーを押して (<span
              class="foreignphrase"><em
                class="foreignphrase">limit</em></span> の意味) パターンを入力してください。
			</div><div
            class="para">
				Debian パッケージの「自動フラグ」の管理 (<a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">「自動的にインストールされたパッケージの追跡」</a>参照) は <code
              class="command">aptitude</code> を使えば簡単にできます。インストール済みパッケージのリストを閲覧し、<span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>m</strong></span> キーでパッケージに自動マークを付けるかまたは <span
              class="keycap"><strong>m</strong></span> キーでそのマークを消すことが可能です。「自動的にインストールされたパッケージ」はパッケージリスト上で「A」を付けて表示されています。この機能はまた、全く関心のないライブラリと依存関係を除外して、マシンで利用されているパッケージを可視化する単純な方法を提供します。<span
              class="keycap"><strong>l</strong></span> (フィルタモードを有効化する) と一緒に使える関連パターンは <code
              class="literal">~i!~M</code> です。これは、インストール済みパッケージを (<code
              class="literal">~i</code>) 見たいけれど自動パッケージとしてマークされたパッケージを見たくない (<code
              class="literal">!~M</code>) ということを意味しています。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TOOL</em></span> コマンドラインインターフェースで <code
                        class="command">aptitude</code> を使う</strong></p></div></div></div><div
              class="para">
				<code
                class="command">aptitude</code> の機能のほとんどは対話型インターフェースだけでなくコマンドラインインターフェースからも利用できます。コマンドラインは <code
                class="command">apt-get</code> と <code
                class="command">apt-cache</code> を日常的に使っているユーザにとって身近なものでしょう。
			</div><div
              class="para">
				<code
                class="command">aptitude</code> の先進的な機能はコマンドラインからも使えます。パッケージ検索パターンは対話的インターフェースの場合と同じです。たとえば、「手作業でインストールされた」パッケージのリストを整理整頓したい場合、インストール済みでパッケージ管理下にないプログラムが特定のライブラリと Perl モジュールに依存していないと知っていれば、たった 1 つのコマンドで関連するパッケージを自動パッケージとしてマークすることが可能です:
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>aptitude markauto '~slibs|~sperl'</code></strong></pre><div
              class="para">
				この検索例は、<code
                class="literal">libs</code> と <code
                class="literal">perl</code> セクションに含まれる全パッケージを簡単に選択しており、<code
                class="command">aptitude</code> で使える検索パターンシステムの力を明確に表わしています。
			</div><div
              class="para">
				あるパッケージが、自動パッケージとしてマークされたパッケージに依存していない場合、そのパッケージはすぐに (削除要求を確認した後に) 削除されます。この点について気を付けてください。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140535292248304"></a>6.4.1.1. 推奨パッケージ、提案パッケージ、タスクの管理</h4></div></div></div><div
              class="para">
					<code
                class="command">aptitude</code> が提供するもう 1 つの興味深い特徴は、パッケージ間の推奨関係を尊重する点です。とは言え、個々の場合に応じて、推奨パッケージをインストールしないようにすることも可能です。たとえば、<span
                class="pkg pkg">gnome</span> パッケージは (数ある中でも特に) <span
                class="pkg pkg">gdebi</span> のインストールを推奨しています。<span
                class="pkg pkg">gnome</span> をインストールするよう選んだ場合、同時に <span
                class="pkg pkg">gdebi</span> も選ばれます (既にシステムにインストール済みでない限り、自動パッケージとしてマークされます)。これを確認するには、<span
                class="keycap"><strong>g</strong></span> とタイプしてください: <span
                class="pkg pkg">gdebi</span> は、依存関係を満足させる目的で自動的にインストールされたパッケージのリスト中、保留動作の要約画面に現れます。しかしながら、操作確認の前にインストールマークを外すことで、パッケージをインストールしないようにできます。
				</div><div
              class="para">
					パッケージのアップグレードを行う場合、上で述べた推奨関係を追跡してインストールパッケージを自動選択する機能が作動しない点に注意してください。たとえば、<span
                class="pkg pkg">gnome</span> の新バージョンが、以前推奨していなかったパッケージを推奨している場合、このパッケージは選択されません。しかしながら、管理者がインストールの可否を選択できるように、このパッケージはアップグレード画面に表示されます。
				</div><div
              class="para">
					さらに、パッケージ間の提案関係が考慮されますが、そのやり方はパッケージを特定の表示状態にするだけです。たとえば、<span
                class="pkg pkg">gnome</span> は <span
                class="pkg pkg">dia-gnome</span> を提案しており、<span
                class="pkg pkg">dia-gnome</span> は保留動作の要約画面 (他のパッケージによって提案されたパッケージのセクションの中) に表示されるでしょう。このように、提案されたパッケージは一覧に表示され、管理者はこの提案に従ってインストールするか否かを決めます。パッケージ間の提案関係とは依存関係でも推奨関係でもないので、提案されたパッケージは自動的にインストールマークを付けられません — ユーザがインストールするか否かを手作業で選択します (このため、提案されたパッケージは自動パッケージとしてマークされません)。
				</div><div
              class="para">
					同様の姿勢で、<code
                class="command">aptitude</code> はタスクの概念をうまく取り扱うことを思い出してください。タスクはパッケージの画面内にカテゴリとして表示されるため、ユーザはタスクのインストール作業および削除作業を、タスク全体に対して適用するか、タスクのパッケージの一部を選択してそれらに適用するかを選ぶことが可能です。
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140535292234352"></a>6.4.1.2. より良いソルバアルゴリズム</h4></div></div></div><div
              class="para">
					この節を締め括るために、<code
                class="command">aptitude</code> は <code
                class="command">apt-get</code> に比べてより複雑なアルゴリズム使って難しい状況を解決する、という点に注意しましょう。一連の動作が要求され、すべての動作を適用するとシステムの一貫性が失われる場合、<code
                class="command">aptitude</code> はいくつかの解決策を検討し、適用後の一貫性が高い順に解決策を提示します。しかしながら、このアルゴリズムは単なるケアレスミスの予防策ではありません。幸いなことに、ユーザは常に手作業で適用する動作を選択できます。現在選択された動作によって矛盾が引き起こされる場合、画面の上の方に「壊れた」パッケージの数が表示されます (パッケージの選択を直接操作するには <span
                class="keycap"><strong>b</strong></span> を押してください)。そして、見つかった問題を手作業で解決することも可能です。具体的に言うと、単純に <span
                class="keycap"><strong>Enter</strong></span> でパッケージを選択すれば、利用できる複数のバージョンを確認できます。複数のバージョンから 1 つ選ぶだけで問題が解決されるなら、迷わずこの機能を使うべきです。壊れたパッケージの数がゼロになったら、動作適用前の最終確認のために、保留動作の要約画面に問題なく移動できるはずです。
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>NOTE</em></span> <code
                          class="command">aptitude</code> のログ</strong></p></div></div></div><div
                class="para">
					<code
                  class="command">dpkg</code> と同様に、<code
                  class="command">aptitude</code> は実行した動作をログファイル (<code
                  class="filename">/var/log/aptitude</code>) に記録します。しかしながら、両方のコマンドは全く異なる階層で動いているので、それぞれのログファイルには異なる情報が含まれます。<code
                  class="command">dpkg</code> が各パッケージに対して行ったすべての動作を 1 つずつ記録するのに対し、<code
                  class="command">aptitude</code> はシステム全体のアップグレードなどの高レベル動作に対するより全体的な情報を記録します。
				</div><div
                class="para">
					このログファイルには、<code
                  class="command">aptitude</code> が実行した操作の要約だけが含まれる点に注意してください。途中で他のフロントエンド (または <code
                  class="command">dpkg</code> 自身) が使われた場合、<code
                  class="command">aptitude</code> のログには、操作全体の一部分しか記録されません。このため、信頼できるシステムの履歴を確認したい場合に、このログは頼りになりません。
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140535292221696"></a>6.4.2. <code
                    class="command">synaptic</code></h3></div></div></div><div
            class="para">
				<code
              class="command">synaptic</code> は Debian 用のグラフィカルパッケージマネージャで、GTK+/GNOME を使った簡便で効率的なグラフィカルインターフェースです。数多くのすぐに使えるフィルタのおかげで、新しく利用できるようになったパッケージ、インストール済みパッケージ、アップグレード可能なパッケージ、時代遅れのパッケージなどを素早く確認できます。リストをすべて閲覧して、パッケージに対して行われる操作 (インストール、アップグレード、削除、完全消去) を選択できます; これらの操作はすぐに実行されるのではなく、まずは操作リストに追加されます。ボタンを一度クリックするだけで、操作の正当性が検証され、操作は一度に実行されます。
			</div><div
            class="figure"><a
              id="idm140535292218928"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/synaptic.png"
                  alt="synaptic パッケージマネージャ" /></div></div><p
              class="title"><strong>図6.2 <code
                  class="command">synaptic</code> パッケージマネージャ</strong></p></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>戻る</strong>6.3. apt-cache コマンド</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上に戻る</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>ホーム</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>次へ</strong>6.5. パッケージ信頼性の確認</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.apt-frontends.html">ar-MA</a></li><li><a
              href="../da-DK/sect.apt-frontends.html">da-DK</a></li><li><a
              href="../de-DE/sect.apt-frontends.html">de-DE</a></li><li><a
              href="../el-GR/sect.apt-frontends.html">el-GR</a></li><li><a
              href="../en-US/sect.apt-frontends.html">en-US</a></li><li><a
              href="../es-ES/sect.apt-frontends.html">es-ES</a></li><li><a
              href="../fa-IR/sect.apt-frontends.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.apt-frontends.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.apt-frontends.html">hr-HR</a></li><li><a
              href="../id-ID/sect.apt-frontends.html">id-ID</a></li><li><a
              href="../it-IT/sect.apt-frontends.html">it-IT</a></li><li><a
              href="../ja-JP/sect.apt-frontends.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.apt-frontends.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.apt-frontends.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.apt-frontends.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.apt-frontends.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.apt-frontends.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.apt-frontends.html">zh-CN</a></li></ul></div></body></html>
