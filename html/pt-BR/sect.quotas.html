<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.9. Cotas</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="Inicialização do Sistema, Initscripts, SSH, Telnet, Direitos, Permissões, Supervisão, Inetd, Cron, Backup, Hotplug, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="unix-services.html"
        title="Capítulo 9. Serviços Unix" /><link
        rel="prev"
        href="sect.asynchronous-task-scheduling-anacron.html"
        title="9.8. Agendando Tarefas Assíncronas: anacron" /><link
        rel="next"
        href="sect.backup.html"
        title="9.10. Backup" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/pt-BR/sect.quotas.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.quotas"></a>9.9. Cotas</h2></div></div></div><a
          id="idm139899464990192"
          class="indexterm"></a><div
          class="para">
			The quota system allows limiting disk space allocated to a user or group of users. To set it up, you must have a kernel that supports it (compiled with the <code
            class="varname">CONFIG_QUOTA</code> option) — as is the case with Debian kernels. The quota management software is found in the <span
            class="pkg pkg">quota</span> Debian package.
		</div><div
          class="para">
			To activate quota in a filesystem, you have to indicate the <code
            class="literal">usrquota</code> and <code
            class="literal">grpquota</code> options in <code
            class="filename">/etc/fstab</code> for the user and group quotas, respectively. Rebooting the computer will then update the quotas in the absence of disk activity (a necessary condition for proper accounting of already used disk space).
		</div><div
          class="para">
			O comando <code
            class="command">edquota <em
              class="replaceable">usuário</em></code> (ou <code
            class="command">edquota -g <em
              class="replaceable">grupo</em></code>) permite que você altere os limites enquanto examina o atual uso de espaço do disco.
		</div><a
          id="idm139899464984128"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>INDO ALÉM</em></span> Definindo quotas com um script</strong></p></div></div></div><a
            id="idm139899464982336"
            class="indexterm"></a><div
            class="para">
			O programa <code
              class="command">setquota</code> pode ser usado em um script para alterar automaticamente muitas quotas. Sua página de manual <span
              class="citerefentry"><span
                class="refentrytitle">setquota</span>(8)</span> detalha a sintaxe a usar.
		</div></div><div
          class="para">
			O sistema de cotas permite você definir quatro limites:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					dois limites (chamados “soft” e “hard”) referem-se ao número de blocos consumidos. Se o sistema de arquivos foi criado com tamanho de bloco de 1 kibibyte, um bloco contém 1024 bytes do mesmo arquivo. Logo, blocos não saturados induzem a perda de espaço em disco. Uma quota de 100 blocos, que teoricamente permite armazenagem de 102,400 bytes, irá contudo ser saturada com apenas 100 arquivos de 500 bytes cada, apenas representando 50,000 bytes no total.
				</div></li><li
              class="listitem"><div
                class="para">
					dois limites (soft e hard) referem-se ao número de inodes usados. Cada arquivo ocupa, pelo menos, um inode para armazenar informação sobre ele (permissões, proprietário, timestamp do último acesso, etc.). Ele é, portanto, um limite no número de arquivos do usuário.
				</div></li></ul></div><div
          class="para">
			Um limite “soft” pode ser excedido temporariamente; o usuário apenas será alertado que está excedendo a quota pelo comando <code
            class="command">warnquota</code>, o qual geralmente é invocado pelo <code
            class="command">cron</code>. Um limite “hard” nunca pode ser excedido: o sistema irá recusar qualquer operação que faça com que uma quota "hard" seja excedida.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>VOCABULÁRIO</em></span> Blocos e inodes</strong></p></div></div></div><a
            id="idm139899464974000"
            class="indexterm"></a><a
            id="idm139899464973232"
            class="indexterm"></a><div
            class="para">
			O sistema de arquivos divide o disco rígido em blocos — pequenas áreas contíguas. O tamanho desses blocos é definido durante a criação do sistema de arquivos, e geralmente varia entre 1 e 8 kibibytes.
		</div><div
            class="para">
			Um bloco pode ser usado tanto para armazenar dados reais de um arquivo, quanto para meta-dados usados pelo sistema de arquivos. Dentre desse meta-dados, você irá encontrar especialmente os inodes. Um inode usa um bloco no disco rígido (mas esse bloco não é levado em consideração na quota de bloco, apenas na quota inode), e contém as informações sobre o arquivo o qual ele corresponde (nome, proprietário, permissões, etc.) e os ponteiros para os blocos de dados que eles realmente usam. Para arquivos realmente grandes que ocupam mais blocos do que é possível referenciar em um único inode, existe um sistema de bloco indireto; o inode referencia uma lista de blocos que não contém dados diretamente, mas outra lista de blocos.
		</div></div><a
          id="idm139899464970576"
          class="indexterm"></a><div
          class="para">
			Com o comando <code
            class="command">edquota -t</code>, você pode definir um "período de tolerância máxima autorizado no qual um limite "soft" pode ser excedido. Após esse período, o limite "soft" será tratado como um limite "hard", e o usuário terá que reduzir seu espaço de disco usado para dentro do limite para que seja possível escrever qualquer coisa no disco rígido.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>INDO ALÉM</em></span> Configurando uma quota padrão para novos usuários</strong></p></div></div></div><div
            class="para">
			Para configurar automaticamente uma quota para novos usuários, você tem que configurar um usuário modelo (com <code
              class="command">edquota</code> ou <code
              class="command">setquota</code>) e indicar seu nome de usuário na variável <code
              class="varname">QUOTAUSER</code> no arquivo <code
              class="filename">/etc/adduser.conf</code>. Essa configuração de quota irá então ser aplicada automaticamente para cada novo usuário criado com o comando <code
              class="command">adduser</code>.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Anterior</strong>9.8. Agendando Tarefas Assíncronas: anacron</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Próxima</strong>9.10. Backup</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.quotas.html">ar-MA</a></li><li><a
              href="../da-DK/sect.quotas.html">da-DK</a></li><li><a
              href="../de-DE/sect.quotas.html">de-DE</a></li><li><a
              href="../el-GR/sect.quotas.html">el-GR</a></li><li><a
              href="../en-US/sect.quotas.html">en-US</a></li><li><a
              href="../es-ES/sect.quotas.html">es-ES</a></li><li><a
              href="../fa-IR/sect.quotas.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.quotas.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.quotas.html">hr-HR</a></li><li><a
              href="../id-ID/sect.quotas.html">id-ID</a></li><li><a
              href="../it-IT/sect.quotas.html">it-IT</a></li><li><a
              href="../ja-JP/sect.quotas.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.quotas.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.quotas.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.quotas.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.quotas.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.quotas.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.quotas.html">zh-CN</a></li></ul></div></body></html>
