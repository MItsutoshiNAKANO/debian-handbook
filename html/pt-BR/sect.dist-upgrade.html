<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.6. Atualizando de uma Versão Estável para a Próxima</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="apt.html"
        title="Capítulo 6. Manutenções e atualizações: As ferramentas APT" /><link
        rel="prev"
        href="sect.package-authentication.html"
        title="6.5. Verificando Autenticidade do Pacote" /><link
        rel="next"
        href="sect.regular-upgrades.html"
        title="6.7. Mantendo um Sistema Atualizado" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/pt-BR/sect.dist-upgrade.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-authentication.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.regular-upgrades.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.dist-upgrade"></a>6.6. Atualizando de uma Versão Estável para a Próxima</h2></div></div></div><div
          class="para">
			Uma das funcionalidades mais conhecidas do Debian é sua habilidade de atualizar um sistema instalado de uma versão estável para a próxima: <span
            class="foreignphrase"><em
              class="foreignphrase">dist-upgrade</em></span> — um termo bem conhecido — tem contribuído amplamente para a reputação do projeto. Com algumas poucas precauções, atualizar um computador pode levar alguns minutos, ou algumas dezenas de minutos, dependendo da velocidade de download do repositório de pacotes.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm139689845673584"></a>6.6.1. Procedimento Recomendado</h3></div></div></div><div
            class="para">
				Como o Debian tem bastante tempo para evoluir entre lançamentos da versão estável, você deve ler as notas de lançamento ("release notes") antes de atualizar.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> Notas de lançamento</strong></p></div></div></div><div
              class="para">
				As notas de lançamento para um sistema operacional (e, mais geralmente, para qualquer software) são um documento que dá uma visão geral do software, com alguns detalhes a respeito das particularidades de uma determinada versão. Estes documentos são em geral curtos se comparados com a documentação completa, e eles normalmente listam as funcionalidades que foram incluídas da versão anterior para a atual. Eles também dão detalhes dos procedimentos de atualização, alertas para os usuários da versão anterior e algumas erratas.
			</div><div
              class="para">
				Release notes are available online: the release notes for the current stable release have a dedicated URL, while older release notes can be found with their codenames: <div
                class="url">→ <a
                  href="http://www.debian.org/releases/stable/releasenotes">http://www.debian.org/releases/stable/releasenotes</a></div> <div
                class="url">→ <a
                  href="http://www.debian.org/releases/wheezy/releasenotes">http://www.debian.org/releases/wheezy/releasenotes</a></div>
			</div></div><div
            class="para">
				In this section, we will focus on upgrading a <span
              class="distribution distribution">Wheezy</span> system to <span
              class="distribution distribution">Jessie</span>. This is a major operation on a system; as such, it is never 100% risk-free, and should not be attempted before all important data has been backed up.
			</div><div
            class="para">
				Outro hábito que mantém a atualização mais fácil (e rápida) é organizar a quantidade de pacotes instalados e manter apenas aqueles que são realmente necessários. Ferramentas úteis para isto incluem <code
              class="command">aptitude</code>, <code
              class="command">deborphan</code> e <code
              class="command">debfoster</code> (veja <a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">Seção 6.2.7, “Rastreando Pacotes Instalados Automaticamente”</a>). Por exemplo, você pode usar o seguinte comando: e, em seguida, usar o modo interativo do <code
              class="command">aptitude</code> para checar e ajustar as remoções programadas:
			</div><pre
            class="screen"># <strong
              class="userinput"><code>deborphan | xargs aptitude --schedule-only remove</code></strong></pre><div
            class="para">
				Now for the upgrading itself. First, you need to change the <code
              class="filename">/etc/apt/sources.list</code> file to tell APT to get its packages from <span
              class="distribution distribution">Jessie</span> instead of <span
              class="distribution distribution">Wheezy</span>. If the file only contains references to <span
              class="distribution distribution">Stable</span> rather than explicit codenames, the change isn't even required, since <span
              class="distribution distribution">Stable</span> always refers to the latest released version of Debian. In both cases, the database of available packages must be refreshed (with the <code
              class="command">apt update</code> command or the refresh button in <code
              class="command">synaptic</code>).
			</div><div
            class="para">
				Once these new package sources are registered, you should first do a minimal upgrade with <code
              class="command">apt upgrade</code>. By doing the upgrade in two steps, we ease the job of the package management tools and often ensure that we have the latest versions of those, which might have accumulated bugfixes and improvements required to complete the full distribution upgrade.
			</div><div
            class="para">
				Once this first upgrade is done, it is time to handle the upgrade itself, either with <code
              class="command">apt full-upgrade</code>, <code
              class="command">aptitude</code>, or <code
              class="command">synaptic</code>. You should carefully check the suggested actions before applying them: you might want to add suggested packages or deselect packages which are only recommended and known not to be useful. In any case, the front-end should come up with a scenario ending in a coherent and up-to-date <span
              class="distribution distribution">Jessie</span> system. Then, all you need is to do is wait while the required packages are downloaded, answer the Debconf questions and possibly those about locally modified configuration files, and sit back while APT does its magic.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm139689845651376"></a>6.6.2. Lidando com Problemas após uma Atualização</h3></div></div></div><div
            class="para">
				Apesar dos esforços dos mantenedores Debian, uma atualização geral do sistema não é sempre tão suave quando você gostaria. Novas versões de software podem ser incompatíveis com versões anteriores (por exemplo, seu comportamento padrão ou seu formato de dados pode ter mudado). Além disso, alguns bugs podem passam despercebidos apesar da fase de testes pela qual o lançamento do Debian sempre passa.
			</div><div
            class="para">
				Para antecipar alguns destes problemas, você pode instalar o pacote <span
              class="pkg pkg">apt-listchanges</span>, que mostra informações sobre possíveis problemas no início de uma atualização de pacotes. Esta informação é compilada pelos mantenedores de pacote e colocada em arquivos <code
              class="filename">/usr/share/doc/<em
                class="replaceable">package</em>/NEWS.Debian</code> para os usuários usarem. A leitura destes arquivos (possivelmente através do <span
              class="pkg pkg">apt-listchanges</span>) pode evitar surpresas desagradáveis.
			</div><div
            class="para">
				You might sometimes find that the new version of a software doesn't work at all. This generally happens if the application isn't particularly popular and hasn't been tested enough; a last-minute update can also introduce regressions which are only found after the stable release. In both cases, the first thing to do is to have a look at the bug tracking system at <code
              class="literal">https://bugs.debian.org/<em
                class="replaceable">package</em></code>, and check whether the problem has already been reported. If it hasn't, you should report it yourself with <code
              class="command">reportbug</code>. If it is already known, the bug report and the associated messages are usually an excellent source of information related to the bug:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						algumas vezes um patch já existe, e está disponível no bug report; você pode recompilar uma versão consertada de um pacote quebrado localmente (see <a
                    class="xref"
                    href="debian-packaging.html#sect.rebuilding-package">Seção 15.1, “Reconstruindo um Pacote a partir de suas Fontes”</a>);
					</div></li><li
                class="listitem"><div
                  class="para">
						Em outros casos, os usuários podem encontrar uma gambiarra para o problema e compartilhar suas ideias nas respostas do bug report;
					</div></li><li
                class="listitem"><div
                  class="para">
						em outros casos, um pacote consertado já pode ter sido preparado e publicado pelo mantenedor.
					</div></li></ul></div><div
            class="para">
				Depending on the severity of the bug, a new version of the package may be prepared specifically for a new revision of the stable release. When this happens, the fixed package is made available in the <code
              class="literal">proposed-updates</code> section of the Debian mirrors (see <a
              class="xref"
              href="apt.html#sect.proposed-updates">Seção 6.1.2.3, “Atualizações Propostas”</a>). The corresponding entry can then be temporarily added to the <code
              class="filename">sources.list</code> file, and updated packages can be installed with <code
              class="command">apt</code> or <code
              class="command">aptitude</code>.
			</div><div
            class="para">
				Sometimes the fixed package isn't available in this section yet because it is pending a validation by the Stable Release Managers. You can verify if that's the case on their web page. Packages listed there aren't available yet, but at least you know that the publication process is ongoing. <div
              class="url">→ <a
                href="https://release.debian.org/proposed-updates/stable.html">https://release.debian.org/proposed-updates/stable.html</a></div>
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-authentication.html"><strong>Anterior</strong>6.5. Verificando Autenticidade do Pacote</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.regular-upgrades.html"><strong>Próxima</strong>6.7. Mantendo um Sistema Atualizado</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.dist-upgrade.html">ar-MA</a></li><li><a
              href="../da-DK/sect.dist-upgrade.html">da-DK</a></li><li><a
              href="../de-DE/sect.dist-upgrade.html">de-DE</a></li><li><a
              href="../el-GR/sect.dist-upgrade.html">el-GR</a></li><li><a
              href="../en-US/sect.dist-upgrade.html">en-US</a></li><li><a
              href="../es-ES/sect.dist-upgrade.html">es-ES</a></li><li><a
              href="../fa-IR/sect.dist-upgrade.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.dist-upgrade.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.dist-upgrade.html">hr-HR</a></li><li><a
              href="../id-ID/sect.dist-upgrade.html">id-ID</a></li><li><a
              href="../it-IT/sect.dist-upgrade.html">it-IT</a></li><li><a
              href="../ja-JP/sect.dist-upgrade.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.dist-upgrade.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.dist-upgrade.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.dist-upgrade.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.dist-upgrade.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.dist-upgrade.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.dist-upgrade.html">zh-CN</a></li></ul></div></body></html>
